<div pagetitle>专辑列表</div>
<div goback back-key="{{filter.star_id}}" class=" navbar-collapse navbar-form filter-bar" ng-controller="filterCtrl">
    <div class="form-group">
        <label>排序:</label>
        <ul selectcon ng-model="filter.sort" ng-change="search()">
            <li selectvalue="">默认</li>
            <li selectvalue="add_time_asc">按添加时间顺序</li>
            <li selectvalue="add_time_desc">按添加时间倒序</li>
            <li selectvalue="names_asc">按标题顺序</li>
            <li selectvalue="names_desc">按标题倒序</li>
            <li selectvalue="update_time_asc">按更新时间升序</li>
            <li selectvalue="update_time_desc">按更新时间倒序</li>
        </ul>
    </div>
    <div class="form-group">
        <label>状态:</label>
        <ul selectcon ng-model="filter.status" ng-change="search()">
            <li selectvalue="" selected="">默认</li>
            <li selectvalue="1">正常</li>
            <li selectvalue="2">隐藏</li>
        </ul>
    </div>
    <div class="form-group navbar-right" role="search">
             <input type="text" class="form-control" ng-model="filter.keyword" placeholder="搜索">
            <button type="button" class="btn btn-primary" ng-click="search()">搜 索</button>
        <a ui-sref="star/create_album" class="btn btn-default">创建专辑</a>
    </div>
</div>
<table class="table table-bordered table-striped ">
    <thead>
        <tr pages page-type="mini"></tr>
        <tr>
            <th>专辑名称</th>
            <th >封面图片</th>
            <th >专辑海报</th>
            <th>状态</th>
            <th >操作</th>
        </tr>
    </thead>
    <tbody>
        <tr ng-repeat="album in data">
            <td>
                 {{album.name}}
            </td>
            <td>
                <div class="img-con" ng-if="album.cover" >
                    <img ng-src="{{album.cover.url}}">
                </div>
            </td>
            <td>
                <div class="img-con-poster" >
                    <img ng-src="{{album.poster.url}}">
                </div>
            </td>
            <td>
                <ul selectcon ng-model="album.status" ng-change="changeStatus($index)">
                    <li selectvalue="1">正常</li>
                    <li selectvalue="2">隐藏</li>
                </ul>
                <!-- {{album.status | display }} -->
            </td>
            <td class="t_bar">
                <a ui-sref="star/album_info({id:'{{album.id}}'})">详情</a>
                <button class="btn btn-link" ng-click="delete($index)">删除</button>
                <a ui-sref="star/album_works({album_id:'{{album.id}}'})">查看作品</a>
                 <button class="btn btn-link" add-recommend data-type="hot_album" data-object_id="{{album.id}}" data-object_type="album" >推荐热门</button>
            </td>
        </tr>
    </tbody>
    <tfoot>
        <tr pages></tr>
    </tfoot>
</table>
    <div nodata></div>